<%# Include the standard Puppet header -%>
<%= scope.function_template(['base/template-header.erb']) -%>

# For information about the layout of this file and its settings,
# see the freetds.conf manpage "man freetds.conf".

# Global settings are overridden by those in a database
# server specific section
[global]
	tds version = <%= @version %>
	port = <%= @port -%>

<%- if @dump_file -%>
        # Whether to write a TDSDUMP file for diagnostic purposes
        # (setting this to /tmp is insecure on a multi-user system)
	dump file = <%= @dump_file %>
<% end -%>
<%- if @text_size -%>
	debug flags = <%= @debug_flags %>
<% end -%>

<%- if @text_size -%>
        # If you get out-of-memory errors, it may mean that your client
        # is trying to allocate a huge buffer for a TEXT field.
        # Try setting 'text size' to a more reasonable limit

        text size = <%= @text_size %>
<% end -%>

<%# Even though these are sample setups, they go in the freetds.conf.erb template %>
<%# because we don't want them duplicated for each instance of a host declaration %>

# A typical Sybase server
[egServer50]
        host = symachine.domain.com
        port = 5000
        tds version = 5.0

# A typical Microsoft server
[egServer70]
        host = ntmachine.domain.com
        port = 1433
        tds version = 7.0
